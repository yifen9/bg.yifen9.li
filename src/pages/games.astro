---
import DataTable from "../components/DataTable.svelte";
import games from "../../data/games.json";
const rows = Array.isArray(games) ? games : [];
const columns = [
  { key: "game", label: "Game", link: { prefix: "/games/", key: "game" } },
  { key: "avg", label: "Avg" },
  { key: "median", label: "Median" },
  { key: "ratings_count", label: "Ratings" },
  { key: "plays", label: "Plays" },
  { key: "last_played", label: "Last Played" }
];
const rowLink = { prefix: "/games/", key: "game" };
---
<html>
  <head><meta charset="utf-8" /><title>Games</title></head>
  <body>
    <h1>Games</h1>
    {rows.length
      ? <DataTable client:load {columns} rows={rows} {rowLink} initialSort={{key:"last_played",dir:"desc"}} />
      : <p>No games data.</p>}
  </body>
</html>
