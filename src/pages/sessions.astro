---
import DataTable from "../components/DataTable.svelte";
import sessions from "../../data/sessions.json";
const rows = Array.isArray(sessions) ? sessions : [];
const columns = [
  { key: "date", label: "Date" },
  { key: "game", label: "Game", link: { prefix: "/games/", key: "game" } },
  { key: "session_id", label: "Session", link: { prefix: "/sessions/", key: "session_id", encode: false } },
  { key: "participants", label: "Participants", join: ", " }
];
const rowLink = { prefix: "/sessions/", key: "session_id", encode: false };
---
<html>
  <head><meta charset="utf-8" /><title>Sessions</title></head>
  <body>
    <h1>Sessions</h1>
    {rows.length
      ? <DataTable client:load {columns} rows={rows} {rowLink} initialSort={{key:"date",dir:"desc"}} />
      : <p>No sessions data.</p>}
  </body>
</html>
